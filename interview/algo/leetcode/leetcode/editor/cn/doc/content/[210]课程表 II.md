<p>ç°åœ¨ä½ æ€»å…±æœ‰ <code>numCourses</code> é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º&nbsp;<code>0</code>&nbsp;åˆ°&nbsp;<code>numCourses - 1</code>ã€‚ç»™ä½ ä¸€ä¸ªæ•°ç»„&nbsp;<code>prerequisites</code> ï¼Œå…¶ä¸­ <code>prerequisites[i] = [a<sub>i</sub>, b<sub>i</sub>]</code> ï¼Œè¡¨ç¤ºåœ¨é€‰ä¿®è¯¾ç¨‹ <code>a<sub>i</sub></code> å‰ <strong>å¿…é¡»</strong> å…ˆé€‰ä¿®&nbsp;<code>b<sub>i</sub></code> ã€‚</p>

<ul> 
 <li>ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ <code>0</code> ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹&nbsp;<code>1</code> ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºï¼š<code>[0,1]</code> ã€‚</li> 
</ul>

<p>è¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å› <strong>ä»»æ„ä¸€ç§</strong> å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å› <strong>ä¸€ä¸ªç©ºæ•°ç»„</strong> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>numCourses = 2, prerequisites = [[1,0]]
<strong>è¾“å‡ºï¼š</strong>[0,1]
<strong>è§£é‡Šï¼š</strong>æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 1ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ã€‚å› æ­¤ï¼Œæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºä¸º <span><code>[0,1] ã€‚</code></span>
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>numCourses = 4, prerequisites = [[1,0],[2,0],[3,1],[3,2]]
<strong>è¾“å‡ºï¼š</strong>[0,2,1,3]
<strong>è§£é‡Šï¼š</strong>æ€»å…±æœ‰ 4 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 3ï¼Œä½ åº”è¯¥å…ˆå®Œæˆè¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2ã€‚å¹¶ä¸”è¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2 éƒ½åº”è¯¥æ’åœ¨è¯¾ç¨‹ 0 ä¹‹åã€‚
å› æ­¤ï¼Œä¸€ä¸ªæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºæ˜¯&nbsp;<span><code>[0,1,2,3]</code></span> ã€‚å¦ä¸€ä¸ªæ­£ç¡®çš„æ’åºæ˜¯&nbsp;<span><code>[0,2,1,3]</code></span> ã€‚</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>numCourses = 1, prerequisites = []
<strong>è¾“å‡ºï¼š</strong>[0]
</pre>

<p>&nbsp;</p> 
<strong>æç¤ºï¼š</strong>

<ul> 
 <li><code>1 &lt;= numCourses &lt;= 2000</code></li> 
 <li><code>0 &lt;= prerequisites.length &lt;= numCourses * (numCourses - 1)</code></li> 
 <li><code>prerequisites[i].length == 2</code></li> 
 <li><code>0 &lt;= a<sub>i</sub>, b<sub>i</sub> &lt; numCourses</code></li> 
 <li><code>a<sub>i</sub> != b<sub>i</sub></code></li> 
 <li>æ‰€æœ‰<code>[a<sub>i</sub>, b<sub>i</sub>]</code> <strong>äº’ä¸ç›¸åŒ</strong></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ·±åº¦ä¼˜å…ˆæœç´¢ | å¹¿åº¦ä¼˜å…ˆæœç´¢ | å›¾ | æ‹“æ‰‘æ’åº</details><br>

<div>ğŸ‘ 976, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/issues' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.online/algo/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼šç½‘ç«™æ–°å¢å¤§é‡ä¹ é¢˜ï¼Œæ–°å¢æ’åºç®—æ³•ä¸“é¢˜åŠå¯è§†åŒ–ï¼Œå…·ä½“è¯·æŸ¥çœ‹ [ç½‘ç«™æ›´æ–°æ—¥å¿—](https://labuladong.online/algo/changelog/website/)~**



<p><strong><a href="https://labuladong.online/algo/slug.html?slug=course-schedule-ii" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

<div id="labuladong_solution_zh">

## åŸºæœ¬æ€è·¯

ç›´è§‚åœ°è¯´ï¼Œæ‹“æ‰‘æ’åºå°±æ˜¯è®©ä½ æŠŠä¸€å¹…æ— ç¯å›¾ã€Œæ‹‰å¹³ã€ï¼Œè€Œä¸”è¿™ä¸ªã€Œæ‹‰å¹³ã€çš„å›¾é‡Œé¢ï¼Œæ‰€æœ‰ç®­å¤´æ–¹å‘éƒ½æ˜¯ä¸€è‡´çš„ï¼š

![](https://labuladong.online/algo/images/æ‹“æ‰‘æ’åº/top.jpg)

åœ¨è¿›è¡Œæ‹“æ‰‘æ’åºä¹‹å‰ï¼Œé¦–å…ˆè¦ç¡®ä¿å›¾ä¸­æ— ç¯ï¼Œè¿™å°±ä¾èµ– [207. è¯¾ç¨‹è¡¨](/problems/course-schedule) ä¸­è®²çš„ç¯æ£€æµ‹ç®—æ³•ã€‚

æ‹“æ‰‘æ’åºå¯ä»¥ä½¿ç”¨ DFS ç®—æ³•ï¼Œå›¾çš„ååºéå†ç»“æœè¿›è¡Œåè½¬å°±æ˜¯æ‹“æ‰‘æ’åºç»“æœã€‚

å¦å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨ BFS ç®—æ³•å€ŸåŠ©æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦è¿›è¡Œæ‹“æ‰‘æ’åºï¼Œè¿™é‡Œå°±ç”¨ BFS ç®—æ³•æ¥è§£å†³ã€‚

DFS è§£æ³•å’Œç®—æ³•æ‰§è¡Œè¿‡ç¨‹è¯¦è§£è¯·çœ‹è¯¦ç»†é¢˜è§£ã€‚

- **è¯¦ç»†é¢˜è§£**ï¼š
  - [ç¯æ£€æµ‹åŠæ‹“æ‰‘æ’åºç®—æ³•](https://labuladong.online/algo/data-structure/topological-sort/)

</div>

<div id="solution">

## è§£æ³•ä»£ç 



<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§æˆ‘çš„ java ä»£ç æŸ¥çœ‹ã€‚

class Solution {
public:
    // ä¸»å‡½æ•°
    vector<int> findOrder(int numCourses, vector<vector<int>>& prerequisites) {
        // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        vector<vector<int>> graph = buildGraph(numCourses, prerequisites);
        // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        vector<int> indegree(numCourses, 0);
        for (const auto& edge : prerequisites) {
            int from = edge[1], to = edge[0];
            indegree[to]++;
        }

        // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        queue<int> q;
        for (int i = 0; i < numCourses; i++) {
            if (indegree[i] == 0) {
                q.push(i);
            }
        }

        // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
        vector<int> res(numCourses);
        // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
        int count = 0;
        // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
        while (!q.empty()) {
            int cur = q.front();
            q.pop();
            // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
            res[count] = cur;
            count++;
            for (int next : graph[cur]) {
                indegree[next]--;
                if (indegree[next] == 0) {
                    q.push(next);
                }
            }
        }

        if (count != numCourses) {
            // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
            return {};
        }
        
        return res;
    }

    // å»ºå›¾å‡½æ•°
    vector<vector<int>> buildGraph(int numCourses, vector<vector<int>>& prerequisites) {
        // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
        vector<vector<int>> graph(numCourses);
        for (const auto& edge : prerequisites) {
            int from = edge[1], to = edge[0];
            // ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
            // åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
            graph[from].push_back(to);
        }
        return graph;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
# æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§æˆ‘çš„ java ä»£ç æŸ¥çœ‹ã€‚

class Solution:
    # ä¸»å‡½æ•°
    def findOrder(self, numCourses: int, prerequisites: List[List[int]]) -> List[int]:
        # å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        graph = self.buildGraph(numCourses, prerequisites)
        # è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        indegree = [0] * numCourses
        for edge in prerequisites:
            from_node, to_node = edge[1], edge[0]
            indegree[to_node] += 1

        # æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        q = deque()
        for i in range(numCourses):
            if indegree[i] == 0:
                q.append(i) # <extend up -200>![](https://labuladong.online/algo/images/æ‹“æ‰‘æ’åº/6.jpeg) #

        # è®°å½•æ‹“æ‰‘æ’åºç»“æœ
        res = [0] * numCourses
        # è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
        count = 0
        # å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
        while q:
            cur = q.popleft()
            # å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
            res[count] = cur
            count += 1
            for next_node in graph[cur]: # <extend up -200>![](https://labuladong.online/algo/images/æ‹“æ‰‘æ’åº/7.jpeg) #
                indegree[next_node] -= 1
                if indegree[next_node] == 0:
                    q.append(next_node)

        if count != numCourses:
            # å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
            return []
        
        return res

    # å»ºå›¾å‡½æ•°
    def buildGraph(self, numCourses: int, prerequisites: List[List[int]]) -> List[List[int]]:
        # å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
        graph = [[] for _ in range(numCourses)]
        for edge in prerequisites:
            from_node, to_node = edge[1], edge[0]
            # ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
            # åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
            graph[from_node].append(to_node)
        return graph
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    // ä¸»å‡½æ•°
    public int[] findOrder(int numCourses, int[][] prerequisites) {
        // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        List<Integer>[] graph = buildGraph(numCourses, prerequisites);
        // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        int[] indegree = new int[numCourses];
        for (int[] edge : prerequisites) {
            int from = edge[1], to = edge[0];
            indegree[to]++;
        }

        // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        Queue<Integer> q = new LinkedList<>();
        for (int i = 0; i < numCourses; i++) {
            if (indegree[i] == 0) {
                q.offer(i);/**<extend up -200>![](https://labuladong.online/algo/images/æ‹“æ‰‘æ’åº/6.jpeg) */
            }
        }

        // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
        int[] res = new int[numCourses];
        // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
        int count = 0;
        // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
        while (!q.isEmpty()) {
            int cur = q.poll();
            // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
            res[count] = cur;
            count++;
            for (int next : graph[cur]) {/**<extend up -200>![](https://labuladong.online/algo/images/æ‹“æ‰‘æ’åº/7.jpeg) */
                indegree[next]--;
                if (indegree[next] == 0) {
                    q.offer(next);
                }
            }
        }

        if (count != numCourses) {
            // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
            return new int[]{};
        }
        
        return res;
    }

    // å»ºå›¾å‡½æ•°
    List<Integer>[] buildGraph(int numCourses, int[][] prerequisites) {
        // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
        List<Integer>[] graph = new LinkedList[numCourses];
        for (int i = 0; i < numCourses; i++) {
            graph[i] = new LinkedList<>();
        }
        for (int[] edge : prerequisites) {
            int from = edge[1], to = edge[0];
            // ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
            // åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
            graph[from].add(to);
        }
        return graph;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§æˆ‘çš„ java ä»£ç æŸ¥çœ‹ã€‚

func findOrder(numCourses int, prerequisites [][]int) []int {
    // ä¸»å‡½æ•°
    // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    graph := buildGraph(numCourses, prerequisites)
    // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    indegree := make([]int, numCourses)
    for _, edge := range prerequisites {
        to := edge[0]
        indegree[to]++
    }

    // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    q := []int{}
    for i := 0; i < numCourses; i++ {
        if indegree[i] == 0 {
            q = append(q, i)
        }
    }

    // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
    res := make([]int, 0, numCourses)
    // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
    count := 0
    // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
    for len(q) > 0 {
        cur := q[0]
        q = q[1:]
        // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
        res = append(res, cur)
        count++
        for _, next := range graph[cur] {
            indegree[next]--
            if indegree[next] == 0 {
                q = append(q, next)
            }
        }
    }

    if count != numCourses {
        // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
        return []int{}
    }
    
    return res
}

// å»ºå›¾å‡½æ•°
func buildGraph(numCourses int, prerequisites [][]int) [][]int {
    // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
    graph := make([][]int, numCourses)
    for i := 0; i < numCourses; i++ {
        graph[i] = []int{}
    }
    for _, edge := range prerequisites {
        from, to := edge[1], edge[0]
        // ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
        // åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
        graph[from] = append(graph[from], to)
    }
    return graph
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§æˆ‘çš„ java ä»£ç æŸ¥çœ‹ã€‚

var findOrder = function(numCourses, prerequisites) {
    // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    const graph = buildGraph(numCourses, prerequisites);
    // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    const indegree = Array(numCourses).fill(0);
    for (const edge of prerequisites) {
        const from = edge[1], to = edge[0];
        indegree[to]++;
    }

    // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    const q = [];
    for (let i = 0; i < numCourses; i++) {
        if (indegree[i] === 0) {
            q.push(i);/**<extend up -200>![](https://labuladong.online/algo/images/æ‹“æ‰‘æ’åº/6.jpeg) */
        }
    }

    // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
    const res = [];
    // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
    let count = 0;
    // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
    while (q.length) {
        const cur = q.shift();
        // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
        res[count++] = cur;
        for (const next of graph[cur]) {/**<extend up -200>![](https://labuladong.online/algo/images/æ‹“æ‰‘æ’åº/7.jpeg) */
            indegree[next]--;
            if (indegree[next] === 0) {
                q.push(next);
            }
        }
    }

    if (count !== numCourses) {
        // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
        return [];
    }
    
    return res;
    // ä¸»å‡½æ•°
};

// å»ºå›¾å‡½æ•°
function buildGraph(numCourses, prerequisites) {
    // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
    const graph = Array.from({ length: numCourses }, () => []);
    for (const edge of prerequisites) {
        const from = edge[1], to = edge[0];
        // ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
        // åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
        graph[from].push(to);
    }
    return graph;
}
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸ‘¾ğŸ‘¾ ç®—æ³•å¯è§†åŒ– ğŸ‘¾ğŸ‘¾</strong></summary><div id="data_course-schedule-ii" data="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"></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_course-schedule-ii"></div></div>
</details><hr /><br />

</div>

</details>
</div>

